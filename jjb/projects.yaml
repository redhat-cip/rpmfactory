# This file won't be updated and must be updated manually

# Jobs
# ====

- job:
    name: 'pkg-validate'
    defaults: global
    builders:
      - prepare-workspace
      - shell: |
          env
          chmod 600 $SECRETKEY
          sudo yum install rsync
          git clone http://softwarefactory-project.io/r/rpmfactory
          cd $ZUUL_PROJECT
          ../rpmfactory/koji-build.sh
    wrappers:
      - credentials-binding:
        - file:
           credential-id: d3e139ef-cd37-4395-b4f0-2d403acbf727
           variable: SECRETKEY
    triggers:
      - zuul
    node: koji-centos-7

- job:
    name: 'tox-validate'
    defaults: global
    builders:
      - prepare-workspace
      - shell: |
          cd $ZUUL_PROJECT
          tox
    triggers:
      - zuul
    node: koji-centos-7

# Projects
# ========
- project:
    name: zuul-demo
    node: master
    jobs:
      - '{name}-unit-tests'
      - '{name}-functional-tests'
